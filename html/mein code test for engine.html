<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EV3 · Motor-only check (A/B normal, C only 10°)</title>

  <!-- Use your external stylesheet (same look as before) -->
  <link rel="stylesheet" href="../css/01_mainEV.css">
</head>
<body>
  <div class="hero">
    <h1>LEGO EV3 — Motor-only Function Check</h1>
  </div>

  <a class="btn btn--back" href="01_main.html">← Back to overview</a>

  <main>
    <h2>Test motors only (A/B normal, C only 10°)</h2>
    <div class="card">
<textarea id="code" spellcheck="false">#!/usr/bin/env pybricks-micropython
from pybricks.hubs import EV3Brick
from pybricks.ev3devices import Motor
from pybricks.parameters import Port
from pybricks.tools import wait

brick = EV3Brick()
brick.speaker.beep()

left_motor = Motor(Port.A)
right_motor = Motor(Port.B)
middle_motor = Motor(Port.C)

# Motor A
start = left_motor.angle()
left_motor.run(200)      # 200°/s, damit er sicher anläuft
wait(2000)
left_motor.stop()
if abs(left_motor.angle() - start) > 5:
    brick.speaker.beep()         
else:
    brick.light.on(Color.RED);   wait(3000); brick.light.off()

# Motor B
start = right_motor.angle()
right_motor.run(300)
wait(2000)
right_motor.stop()
if abs(right_motor.angle() - start) > 5:
    brick.speaker.beep()
else:
    brick.light.on(Color.RED);   
    wait(3000); 
    brick.light.off()

# Motor C
start = middle_motor.angle()
middle_motor.run(120)    # etwas höher als 20, damit er anläuft
wait(500)
middle_motor.stop()
if abs(middle_motor.angle() - start) > 5:
    brick.speaker.beep()
else:
    brick.light.on(Color.RED);   wait(3000); brick.light.off()

brick.speaker.beep()
wait(1000)
brick.speaker.beep()
wait(1000)
brick.light.on(Color.RED);   
wait(3000); 
brick.light.off()
wait(1000);
for _ in range(3):
    brick.light.on(Color.GREEN); wait(150); brick.light.off(); wait(100)

</textarea>

      <div class="actions">
        <button id="download" class="btn">Download as main.py</button>
        <span class="small">Pybricks firmware on the EV3 is required.</span>
      </div>
    </div>
  </main>

  <script>
    // JS: grabs the text from the editor and saves it as "main.py".
    document.getElementById('download').addEventListener('click', function () {
      var src = document.getElementById('code').value;
      var blob = new Blob([src], {type:'text/x-python'});
      var url  = URL.createObjectURL(blob);
      var a    = document.createElement('a');
      a.href = url; a.download = 'main.py'; a.click();
      setTimeout(function(){ URL.revokeObjectURL(url); }, 0);
    });
  </script>
</body>
</html>
